<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/></head><body><h1 id="Planprogramuuatwiajcegonaukczytania">Plan programu ułatwiającego naukę czytania</h1><p>Program składa się z 2 modułów: modułu przygotowywującego sylaby
i modułu wyświetlającego tekst na ekrania i zapisującego dźwięk.</p><h2 id="Modudzielenianasylaby">Moduł dzielenia na sylaby</h2><p>Implementacja <code>http://wujek2.ia.pw.edu.pl/wujek/wa/prog/hyph.html</code></p><h2 id="Moduprzygotowywujcywaonyzbirsylab">Moduł przygotowywujący ważony zbiór sylab</h2><h3 id="Strukturydanych">Struktury danych</h3><ul><li>Klasa "<code>wyraz</code>"</li></ul><pre><code>* treść wyrazu (`string`)
* krotność (`integer`)
* podział na sylaby. (szereg stringów)</code></pre><ul><li>Klasa "`słownik wyrazów'" <em>Singleton</em>
    * Słownik obiektów <code>wyraz</code></li></ul><ul><li>Klasa "<code>sylaba</code>"
    * sylaba (<code>string</code>)
    * krotność (klucz alternatywny, niejednoznaczny)</li></ul><ul><li>Klasa "`słownik sylab'" <em>Singleton</em>
    * Słownik obiektów <code>sylaba</code></li></ul><h3 id="Algorytm">Algorytm</h3><ol><li>Tworzymy strukturę danych, tj. słownik wszystkich słów wraz z ich krotnościami oraz liczbą wariantów podziału na sylaby.</li><li>Wczytujemy każdy z plików wejściowych, słowo po słowie. Ignorujemy wszelkie znaki przystankowe oraz słowa w których są cyfry. 
    1. Jeśli słowa nie ma w <code>słowniku wyrazów</code>, to wpisujemy je do <code>słownika wyrazów</code>, dzieląc je na sylaby i ustawiając <code>krotność</code> = 1...
    2. ...w przeciwnym razie inkrementujemy <code>krotność</code> w znalezionym wyrazie.</li><li>Iterujemy po wszystkich elementach <code>wyraz</code> <code>słownika wyrazów</code>.
    1. Dla każdego elementu pobieramy szereg sylab i iterujemy po nich.
        1. Jeśli sylaby nie ma w <code>słowniku sylab</code>, to dodajemy ją do <code>słownika sylab</code> i ustawiamy <code>krotność</code> = 1...
        2. ...w przeciwnym razie inkrementujemy <code>krotność</code> znalezionej sylaby.</li><li>Wypisujemy zbiór sylab wraz z ich krotnościami jako plik wyjściowy (np. <code>csv</code> oddzielany znakiem <code>tab</code>).</li></ol><hr/><h2 id="Modunauki">Moduł nauki</h2><p>Komputer stworzy bazę danych już testowanych sylab. Składać się ona będzie z pojedynczej tabeli, w której będą 3 pola: </p><h3 id="Tabele">Tabele</h3><p>Wszystkie tabele będą permanentne, tj. ich zawartość zawsze będzie przechowywana w pamięci stałej. Najlepiej, jeśli to będą pliki tekstowe, ale może to być jakaś baza danych. </p><p>Tabela "<code>sukcesy</code>"</p><ul><li>Sylaba (<code>string</code>)</li><li>Liczba sukcesów (<code>integer</code>)</li><li>Liczba porażek (<code>integer</code>)</li></ul><p>Tabela "<code>log</code>"</p><ul><li>Timestamp (<code>date+time</code>)</li><li>Sylaba (<code>string</code>)</li><li>Czas reakcji/RT (<code>date+time</code> lub <code>float</code> w ms)</li><li>Ścieżka pliku z nagranym dźwiekiem (<code>string</code>)</li></ul><h3 id="Uniwersalnyalgorytmdobieraniazada">Uniwersalny algorytm dobierania zadań</h3><p>Program będzie korzystał z <strong>Uniweralnego Algorytmu Dobierania Zadań</strong>. Algorytm polega na tym, że przez cały czas stara się dobrać użytkownikowi takie zadanie do rozwiązania,
które przewiduje, że zajmie użytkownikowi jak najwięcej czasu do rozwiązania.</p><p><strong>Założenia:</strong></p><ul><li>Zadań jest dużo mniej, niż prób. Tj. program działa dobrze na zadania pamięciowe, a nie na kreatywne myślenie.</li><li>Miarą jakości rozwiązania jest czas wykonania zadania (+ ew. jego poprawność). Pewnie algorytm da się dostosować do innej miary jakości, ale trzeba wtedy zdefiniować <em>kompromis między jakością rozwiązania a czasem</em></li><li> </li></ul><h3 id="Algorytm2">Algorytm</h3><p>Gdy użytkownik przerwie program przez np. <code>Ctrl+C</code> albo krzyżyk należy zakończyć pracę programu.</p><ol><li>Komputer wczyta tabelę <code>sukcesy</code> i wcześniej wygenerowany słownik. Dla każdej sylaby wygeneruje score oparty na względnej częstości powtarzania się (faworyzuje te częściej powtarzające się) i jakości czytania (tj. względnej i bezwzględnej liczbie pomyłek wczytanej z tabeli <code>sukcesy</code>) i wybierze <code>N</code> najlepszych sylab wraz z liczbą powtórzeń (sylaby o wyższym score mają mieć większą liczbę powtórzeń) . Sam algorytm/wzór liczący score nie jest jeszcze ustalony</li><li>Główna pętla prób. 
    1. Ze zbioru sylab wylosować jedną sylabę. Losowanie ma być ważone krotnościami. Alternatywnie można losować bez zwracania sylaby ze zbioru, w który każda sylaba o krotności „<code>N</code>“ trafia <code>N</code> razy.
    2. Prezentacja sylaby przed ekranem, włączenie nagrywania dźwięku z mikrofonu i czekanie na jedno z dwóch zdarzeń:
        1. Timeout
        2. Z mikrofonu zaczął napłynywać dźwięk powyżej progowego
    3. Jeśli nie timeout należy poczekać, min(max(100 ms lub aż dźwięk spadnie poniżej progu) lub aż upłynie <code>timeout2</code>). Podczas tego czasu należy zapamiętać sygnał z mikrofonu i jego czas trwania.
    3. Jeśli nie nastąpił <code>timeout2</code> oraz <code>timeout</code>:
        3. Zapisanie nagranego dźwięku do pliku w katalogu wyjściowym pod nazwą w formacie <code>&lt;sylaba&gt;/&lt;nr próby&gt;.wav</code>
        4. Dopisanie rekordu do tabeli <code>log</code> (wraz z czasem trwania dźwięku)
    4. W przeciwnym razie:
        5. Należy dopisać rekord do logu, ale w polu Czas reakcji wpisać jakąś specjalną wartość, np. "-1". (Alternatywnie można dodać do tej tabeli dedykowane pole z flagą do tego celu)
    5. Należy zaznaczyć, że dana sylaba już była wylosowana (aby drugi raz jej nie wylosować).</li></ol><hr/><h2 id="Moduoceniania">Moduł oceniania</h2><p>Program, który wczytuje kolejne pozycje z zadanego logu, prezentuje sylabę supervizorowi (tj. rodzicowi), odgrywa zapisane nagranie z mikrofonu i pyta się, czy został przeczytany prawidłowo lub nie.
Ważne, aby sylaby prezentowane supervizorowi były w kolejności alfabetycznej a nie chronologicznej.
Odpowiedzi należy dopisać do tabeli <code>sukcesy</code>.</p></body></html>